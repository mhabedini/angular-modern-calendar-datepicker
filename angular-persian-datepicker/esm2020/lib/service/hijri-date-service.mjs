import * as moment from 'moment';
import * as momentHijri from 'moment-hijri';
import { extendMoment } from 'moment-range';
import { getWeekFirstAndLastDays, processDateRange } from "../helper/date-helper";
export class HijriDateService {
    constructor() {
        this.translate = {
            goToToday: 'برو به امروز',
            nextMonth: 'ماه بعد',
            previousMonth: 'ماه قبل',
        };
        this.config = {
            rtl: true,
            WeekendDays: [6]
        };
        momentHijri.locale('ar-SA', { useGregorianParser: true });
    }
    months() {
        return [
            "محرم",
            "صفر",
            "ربیع الاول",
            "ربیع الثانی",
            "جمادی الاول",
            "جمادی الثانی",
            "رجب",
            "شعبان",
            "رمضان",
            "شوال",
            "ذیقعده",
            "ذیحجه",
        ];
    }
    monthsShort() {
        return [
            "محرم",
            "صفر",
            "ربیع الاول",
            "ربیع الثانی",
            "جمادی الاول",
            "جمادی الثانی",
            "رجب",
            "شعبان",
            "رمضان",
            "شوال",
            "ذیقعده",
            "ذیحجه",
        ];
    }
    weekdays() {
        return [
            "السبت",
            "الأحد",
            "الأثنين",
            "الثلاثاء",
            "الأربعاء",
            "الخميس",
            "الجمعه",
        ];
    }
    weekdaysShort() {
        return [
            "السبت",
            "الأحد",
            "الأثنين",
            "الثلاثاء",
            "الأربعاء",
            "الخميس",
            "الجمعه",
        ];
    }
    daysInMonth(date) {
        const hijriDate = momentHijri(date);
        const iDaysInMonth = hijriDate.iDaysInMonth();
        const iMonth = hijriDate.iMonth();
        const iYear = hijriDate.iYear();
        const startDate = moment(momentHijri(`${iYear}/${iMonth + 1}/01`, 'iYYYY/iMM/iDD').format('YYYY/MM/DD'));
        const endDate = moment(momentHijri(`${iYear}/${iMonth + 1}/${iDaysInMonth}`, 'iYYYY/iMM/iDD').format('YYYY/MM/DD'));
        const year = moment(startDate).year();
        console.log(startDate);
        console.log(endDate);
        const [weeks, startDateDayBefore, endDateDayAfter] = processDateRange(startDate, endDate);
        const momentRange = extendMoment(moment);
        const calendar = [];
        const now = moment();
        weeks.forEach((week) => {
            let [firstWeekDay, lastWeekDay] = getWeekFirstAndLastDays(weeks, week, year);
            const weekRange = momentRange.range(firstWeekDay, lastWeekDay);
            const finalWeeks = [];
            Array.from(weekRange.by('day')).forEach((day, index) => {
                const iDate = momentHijri(day.format('YYYY/MM/DD'), 'YYYY/MM/DD');
                console.log(iDate.format('YYYY/MM/DD'));
                finalWeeks.push({
                    gDate: day,
                    date: iDate,
                    weekIndex: index,
                    day: iDate.iDate(),
                    isToday: day.isSame(now, "day"),
                    isForCurrentMonth: day.isBetween(startDateDayBefore, endDateDayAfter)
                });
            });
            calendar.push(finalWeeks);
        });
        return calendar;
    }
    getCurrentMonth(date) {
        return this.months()[date.iMonth()];
    }
    getCurrentYear(date) {
        return date.format('iYYYY');
    }
    loadDaysInMonthWithYearAndMonth(iYear, iMonth) {
        const date = moment(momentHijri(`${iYear}/${this.months().indexOf(iMonth) + 1}/01`, 'iYYYY/iMM/iDD').format('YYYY/MM/DD'));
        return this.daysInMonth(date.format('YYYY/MM/DD'));
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGlqcmktZGF0ZS1zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ndWxhci1wZXJzaWFuLWRhdGVwaWNrZXIvc3JjL2xpYi9zZXJ2aWNlL2hpanJpLWRhdGUtc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssTUFBTSxNQUFNLFFBQVEsQ0FBQTtBQUNoQyxPQUFPLEtBQUssV0FBVyxNQUFNLGNBQWMsQ0FBQTtBQUMzQyxPQUFPLEVBQUMsWUFBWSxFQUFDLE1BQU0sY0FBYyxDQUFDO0FBRTFDLE9BQU8sRUFBQyx1QkFBdUIsRUFBRSxnQkFBZ0IsRUFBQyxNQUFNLHVCQUF1QixDQUFDO0FBRWhGLE1BQU0sT0FBTyxnQkFBZ0I7SUFhM0I7UUFYQSxjQUFTLEdBQUc7WUFDVixTQUFTLEVBQUUsY0FBYztZQUN6QixTQUFTLEVBQUUsU0FBUztZQUNwQixhQUFhLEVBQUUsU0FBUztTQUN6QixDQUFDO1FBRUYsV0FBTSxHQUFHO1lBQ1AsR0FBRyxFQUFFLElBQUk7WUFDVCxXQUFXLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDakIsQ0FBQTtRQUdDLFdBQVcsQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLEVBQUMsa0JBQWtCLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQTtJQUN6RCxDQUFDO0lBRUQsTUFBTTtRQUNKLE9BQU87WUFDTCxNQUFNO1lBQ04sS0FBSztZQUNMLFlBQVk7WUFDWixhQUFhO1lBQ2IsYUFBYTtZQUNiLGNBQWM7WUFDZCxLQUFLO1lBQ0wsT0FBTztZQUNQLE9BQU87WUFDUCxNQUFNO1lBQ04sUUFBUTtZQUNSLE9BQU87U0FDUixDQUFDO0lBQ0osQ0FBQztJQUVELFdBQVc7UUFDVCxPQUFPO1lBQ0wsTUFBTTtZQUNOLEtBQUs7WUFDTCxZQUFZO1lBQ1osYUFBYTtZQUNiLGFBQWE7WUFDYixjQUFjO1lBQ2QsS0FBSztZQUNMLE9BQU87WUFDUCxPQUFP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QUFFLGVBQWUsQ0FBQztpQkFDdEUsQ0FBQyxDQUFBO1lBQ0osQ0FBQyxDQUFDLENBQUE7WUFDRixRQUFRLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQzVCLENBQUMsQ0FBQyxDQUFBO1FBRUYsT0FBTyxRQUFRLENBQUE7SUFDakIsQ0FBQztJQUVELGVBQWUsQ0FBQyxJQUFTO1FBQ3ZCLE9BQU8sSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFBO0lBQ3JDLENBQUM7SUFFRCxjQUFjLENBQUMsSUFBUztRQUN0QixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUE7SUFDN0IsQ0FBQztJQUVELCtCQUErQixDQUFDLEtBQWEsRUFBRSxNQUFjO1FBQzNELE1BQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxLQUFLLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxlQUFlLENBQUMsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQTtRQUMxSCxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFBO0lBQ3BELENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIG1vbWVudCBmcm9tICdtb21lbnQnXHJcbmltcG9ydCAqIGFzIG1vbWVudEhpanJpIGZyb20gJ21vbWVudC1oaWpyaSdcclxuaW1wb3J0IHtleHRlbmRNb21lbnR9IGZyb20gJ21vbWVudC1yYW5nZSc7XHJcbmltcG9ydCB7RGF0ZVNlcnZpY2VJbnRlcmZhY2V9IGZyb20gXCIuL2RhdGUtc2VydmljZS1pbnRlcmZhY2VcIjtcclxuaW1wb3J0IHtnZXRXZWVrRmlyc3RBbmRMYXN0RGF5cywgcHJvY2Vzc0RhdGVSYW5nZX0gZnJvbSBcIi4uL2hlbHBlci9kYXRlLWhlbHBlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEhpanJpRGF0ZVNlcnZpY2UgaW1wbGVtZW50cyBEYXRlU2VydmljZUludGVyZmFjZSB7XHJcblxyXG4gIHRyYW5zbGF0ZSA9IHtcclxuICAgIGdvVG9Ub2RheTogJ9io2LHZiCDYqNmHINin2YXYsdmI2LInLFxyXG4gICAgbmV4dE1vbnRoOiAn2YXYp9mHINio2LnYrycsXHJcbiAgICBwcmV2aW91c01vbnRoOiAn2YXYp9mHINmC2KjZhCcsXHJcbiAgfTtcclxuXHJcbiAgY29uZmlnID0ge1xyXG4gICAgcnRsOiB0cnVlLFxyXG4gICAgV2Vla2VuZERheXM6IFs2XVxyXG4gIH1cclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBtb21lbnRIaWpyaS5sb2NhbGUoJ2FyLVNBJywge3VzZUdyZWdvcmlhblBhcnNlcjogdHJ1ZX0pXHJcbiAgfVxyXG5cclxuICBtb250aHMoKTogc3RyaW5nW10ge1xyXG4gICAgcmV0dXJuIFtcclxuICAgICAgXCLZhdit2LHZhVwiLFxyXG4gICAgICBcIti12YHYsVwiLFxyXG4gICAgICBcItix2KjbjNi5INin2YTYp9mI2YRcIixcclxuICAgICAgXCLYsdio24zYuSDYp9mE2KvYp9mG24xcIixcclxuICAgICAgXCLYrNmF2KfYr9uMINin2YTYp9mI2YRcIixcclxuICAgICAgXCLYrNmF2KfYr9uMINin2YTYq9in2YbbjFwiLFxyXG4gICAgICBcItix2KzYqFwiLFxyXG4gICAgICBcIti02LnYqNin2YZcIixcclxuICAgICAgXCLYsdmF2LbYp9mGXCIsXHJcbiAgICAgIFwi2LTZiNin2YRcIixcclxuICAgICAgXCLYsNuM2YLYudiv2YdcIixcclxuICAgICAgXCLYsNuM2K3YrNmHXCIsXHJcbiAgICBdO1xyXG4gIH1cclxuXHJcbiAgbW9udGhzU2hvcnQoKTogc3RyaW5nW10ge1xyXG4gICAgcmV0dXJuIFtcclxuICAgICAgXCLZhdit2LHZhVwiLFxyXG4gICAgICBcIti12YHYsVwiLFxyXG4gICAgICBcItix2KjbjNi5INin2YTYp9mI2YRcIixcclxuICAgICAgXCLYsdio24zYuSDYp9mE2KvYp9mG24xcIixcclxuICAgICAgXCLYrNmF2KfYr9uMINin2YTYp9mI2YRcIixcclxuICAgICAgXCLYrNmF2KfYr9uMINin2YTYq9in2YbbjFwiLFxyXG4gICAgICBcItix2KzYqFwiLFxyXG4gICAgICBcIti02LnYqNin2YZcIixcclxuICAgICAgXCLYsdmF2LbYp9mGXCIsXHJcbiAgICAgIFwi2LTZiNin2YRcIixcclxuICAgICAgXCLYsNuM2YLYudiv2YdcIixcclxuICAgICAgXCLYsNuM2K3YrNmHXCIsXHJcbiAgICBdO1xyXG4gIH1cclxuXHJcbiAgd2Vla2RheXMoKTogc3RyaW5nW10ge1xyXG4gICAgcmV0dXJuIFtcclxuICAgICAgXCLYp9mE2LPYqNiqXCIsXHJcbiAgICAgIFwi2KfZhNij2K3Yr1wiLFxyXG4gICAgICBcItin2YTYo9ir2YbZitmGXCIsXHJcbiAgICAgIFwi2KfZhNir2YTYp9ir2KfYoVwiLFxyXG4gICAgICBcItin2YTYo9ix2KjYudin2KFcIixcclxuICAgICAgXCLYp9mE2K7ZhdmK2LNcIixcclxuICAgICAgXCLYp9mE2KzZhdi52YdcIixcclxuICAgIF07XHJcbiAgfVxyXG5cclxuICB3ZWVrZGF5c1Nob3J0KCk6IHN0cmluZ1tdIHtcclxuICAgIHJldHVybiBbXHJcbiAgICAgIFwi2KfZhNiz2KjYqlwiLFxyXG4gICAgICBcItin2YTYo9it2K9cIixcclxuICAgICAgXCLYp9mE2KPYq9mG2YrZhlwiLFxyXG4gICAgICBcItin2YTYq9mE2KfYq9in2KFcIixcclxuICAgICAgXCLYp9mE2KPYsdio2LnYp9ihXCIsXHJcbiAgICAgIFwi2KfZhNiu2YXZitizXCIsXHJcbiAgICAgIFwi2KfZhNis2YXYudmHXCIsXHJcbiAgICBdO1xyXG4gIH1cclxuXHJcbiAgZGF5c0luTW9udGgoZGF0ZTogc3RyaW5nKTogYW55W10ge1xyXG4gICAgY29uc3QgaGlqcmlEYXRlID0gbW9tZW50SGlqcmkoZGF0ZSlcclxuICAgIGNvbnN0IGlEYXlzSW5Nb250aCA9IGhpanJpRGF0ZS5pRGF5c0luTW9udGgoKTtcclxuICAgIGNvbnN0IGlNb250aCA9IGhpanJpRGF0ZS5pTW9udGgoKVxyXG4gICAgY29uc3QgaVllYXIgPSBoaWpyaURhdGUuaVllYXIoKVxyXG5cclxuICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IG1vbWVudChtb21lbnRIaWpyaShgJHtpWWVhcn0vJHtpTW9udGggKyAxfS8wMWAsICdpWVlZWS9pTU0vaUREJykuZm9ybWF0KCdZWVlZL01NL0REJykpXHJcbiAgICBjb25zdCBlbmREYXRlID0gbW9tZW50KG1vbWVudEhpanJpKGAke2lZZWFyfS8ke2lNb250aCArIDF9LyR7aURheXNJbk1vbnRofWAsICdpWVlZWS9pTU0vaUREJykuZm9ybWF0KCdZWVlZL01NL0REJykpXHJcbiAgICBjb25zdCB5ZWFyID0gbW9tZW50KHN0YXJ0RGF0ZSkueWVhcigpXHJcblxyXG4gICAgY29uc29sZS5sb2coc3RhcnREYXRlKTtcclxuICAgIGNvbnNvbGUubG9nKGVuZERhdGUpO1xyXG5cclxuICAgIGNvbnN0IFt3ZWVrcywgc3RhcnREYXRlRGF5QmVmb3JlLCBlbmREYXRlRGF5QWZ0ZXJdID0gcHJvY2Vzc0RhdGVSYW5nZShzdGFydERhdGUsIGVuZERhdGUpXHJcblxyXG4gICAgY29uc3QgbW9tZW50UmFuZ2U6IGFueSA9IGV4dGVuZE1vbWVudChtb21lbnQpXHJcbiAgICBjb25zdCBjYWxlbmRhcjogYW55W10gPSBbXVxyXG4gICAgY29uc3Qgbm93ID0gbW9tZW50KClcclxuXHJcbiAgICB3ZWVrcy5mb3JFYWNoKCh3ZWVrOiBhbnkpID0+IHtcclxuICAgICAgbGV0IFtmaXJzdFdlZWtEYXksIGxhc3RXZWVrRGF5XSA9IGdldFdlZWtGaXJzdEFuZExhc3REYXlzKHdlZWtzLCB3ZWVrLCB5ZWFyKVxyXG5cclxuICAgICAgY29uc3Qgd2Vla1JhbmdlID0gbW9tZW50UmFuZ2UucmFuZ2UoZmlyc3RXZWVrRGF5LCBsYXN0V2Vla0RheSlcclxuICAgICAgY29uc3QgZmluYWxXZWVrczogYW55W10gPSBbXVxyXG4gICAgICBBcnJheS5mcm9tKHdlZWtSYW5nZS5ieSgnZGF5JykpLmZvckVhY2goKGRheTogYW55LCBpbmRleCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlEYXRlID0gbW9tZW50SGlqcmkoZGF5LmZvcm1hdCgnWVlZWS9NTS9ERCcpLCAnWVlZWS9NTS9ERCcpXHJcbiAgICAgICAgY29uc29sZS5sb2coaURhdGUuZm9ybWF0KCdZWVlZL01NL0REJykpXHJcbiAgICAgICAgZmluYWxXZWVrcy5wdXNoKHtcclxuICAgICAgICAgIGdEYXRlOiBkYXksXHJcbiAgICAgICAgICBkYXRlOiBpRGF0ZSxcclxuICAgICAgICAgIHdlZWtJbmRleDogaW5kZXgsXHJcbiAgICAgICAgICBkYXk6IGlEYXRlLmlEYXRlKCksXHJcbiAgICAgICAgICBpc1RvZGF5OiBkYXkuaXNTYW1lKG5vdywgXCJkYXlcIiksXHJcbiAgICAgICAgICBpc0ZvckN1cnJlbnRNb250aDogZGF5LmlzQmV0d2VlbihzdGFydERhdGVEYXlCZWZvcmUsIGVuZERhdGVEYXlBZnRlcilcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgICBjYWxlbmRhci5wdXNoKGZpbmFsV2Vla3MpO1xyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4gY2FsZW5kYXJcclxuICB9XHJcblxyXG4gIGdldEN1cnJlbnRNb250aChkYXRlOiBhbnkpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMubW9udGhzKClbZGF0ZS5pTW9udGgoKV1cclxuICB9XHJcblxyXG4gIGdldEN1cnJlbnRZZWFyKGRhdGU6IGFueSk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gZGF0ZS5mb3JtYXQoJ2lZWVlZJylcclxuICB9XHJcblxyXG4gIGxvYWREYXlzSW5Nb250aFdpdGhZZWFyQW5kTW9udGgoaVllYXI6IG51bWJlciwgaU1vbnRoOiBzdHJpbmcpOiBhbnlbXSB7XHJcbiAgICBjb25zdCBkYXRlID0gbW9tZW50KG1vbWVudEhpanJpKGAke2lZZWFyfS8ke3RoaXMubW9udGhzKCkuaW5kZXhPZihpTW9udGgpICsgMX0vMDFgLCAnaVlZWVkvaU1NL2lERCcpLmZvcm1hdCgnWVlZWS9NTS9ERCcpKVxyXG4gICAgcmV0dXJuIHRoaXMuZGF5c0luTW9udGgoZGF0ZS5mb3JtYXQoJ1lZWVkvTU0vREQnKSlcclxuICB9XHJcbn1cclxuIl19